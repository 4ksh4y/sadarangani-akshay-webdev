<script>
    $('#updateWidgetBtn').hide();

    function validateInput(event) {
        if ($.trim($('#upload').val()).length) {
            event.submit();
        }
        else {
            event.preventDefault();
            window.alert("Please choose a file");
        }
    }
</script>

<h1>IMAGE Editor</h1>

<div class="container-fluid alt-pad">
    <div class="col-xs-12">
        <label for="url">URL</label>
        <input ng-model="model.widget.url"
               id="url"
               type="url"
               class="form-control"
               placeholder="URL" />

        <form action="/api/upload"  method="post" enctype="multipart/form-data">

                <label for="width">Width</label>
                <input ng-model="model.widget.width"
                       id="width"
                       type="text"
                       value="100%"
                       class="form-control"
                       placeholder="Width" />
                <label for="upload">Upload</label>
                <input id="upload"
                       name="myFile"
                       type="file"
                       accept="image/*"
                       class="form-control"
                       placeholder="Choose file"/>
                <input  name="uid" value="{{model.userId}}"   style="display: none"/>
                <input  name="wid" value="{{model.websiteId}}"   style="display: none"/>
                <input  name="widgetId" value="{{model.widget._id}}"   style="display: none"/>
                <button onclick="validateInput(event)" class="btn btn-block btn-primary">Upload Image</button>
        </form>
        <br />
        <button ng-click="model.updateWidget(model.widget)" id="btn-url" class="btn btn-block btn-info">Upload Image URL</button>
    </div>
</div>